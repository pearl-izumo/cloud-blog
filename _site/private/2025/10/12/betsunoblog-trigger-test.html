<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚³ãƒ¡ãƒ³ãƒˆãƒˆãƒªã‚¬ãƒ¼è¨˜äº‹ - ç‹¬ç™½</title>
    <link rel="stylesheet" href="/assets/style.css">
</head>
<body>

    <header>
        <div class="header-content">
            <a href="/" class="logo-link">
                <img src="/assets/cloudblog_logo.png" alt="CLOUDBLOGãƒ­ã‚´" class="header-logo">
            </a>
        </div>
    </header>

    <div class="main-container">
        <article>
    <div id="notification-container"></div>
    <h1>ã‚³ãƒ¡ãƒ³ãƒˆãƒˆãƒªã‚¬ãƒ¼è¨˜äº‹ - ç‹¬ç™½</h1>
    <p>æŠ•ç¨¿æ—¥: 2025å¹´10æœˆ12æ—¥</p>

    <div class="post-content">
        <p>ã“ã®è¨˜äº‹ã«ã‚³ãƒ¡ãƒ³ãƒˆã™ã‚‹ã¨ã€ã‚¢ãƒãƒã‹ã‚‰ã®åå¿œãŒæ™‚é–“å·®ã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>

<p>ã€æ³¨æ„ã€‘ ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ã€æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã‚³ãƒ¡ãƒ³ãƒˆãƒˆãƒªã‚¬ãƒ¼ã®JavaScriptãƒ­ã‚¸ãƒƒã‚¯ãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚</p>

    </div>

    <hr style="margin-top: 40px;">
    
    <section id="comment-section">
        <h2>:: ã‚³ãƒ¡ãƒ³ãƒˆ / è¨˜éŒ² ::</h2>
        
        <div id="comment-form-area">
            <p>ã‚·ã‚¹ãƒ†ãƒ ã‚’èª­ã¿è¾¼ã¿ä¸­...</p>
        </div>
        
        <div id="comment-history-area">
            <p style="color: #666;">ï¼ˆç¾æ™‚ç‚¹ã§æ›¸ãè¾¼ã¾ã‚ŒãŸè¨˜éŒ²ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ï¼‰</p>
        </div>

    </section>

    <style>
        /* é€šçŸ¥ã‚³ãƒ³ãƒ†ãƒŠã®åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ« */
        #notification-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000; /* ä»–ã®è¦ç´ ã®ä¸Šã«è¡¨ç¤º */
            pointer-events: none; /* ã‚¯ãƒªãƒƒã‚¯ã‚’é€éã•ã›ã‚‹ */
        }
    
        /* å€‹åˆ¥é€šçŸ¥ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .toast-notification {
            background-color: #4CAF50; /* ç·‘è‰²ã®èƒŒæ™¯ */
            color: white;
            text-align: center;
            padding: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            
            /* ç”»é¢å¤–ã«éš ã™ãŸã‚ã®åˆæœŸä½ç½® */
            transform: translateY(-100%); 
            transition: transform 0.5s ease-in-out; /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­å®š */
            
            /* ä¸­å¤®å¯„ã›ã®ãŸã‚ã®è¨­å®š */
            margin: 0 auto;
            max-width: 400px;
            border-bottom-left-radius: 5px;
            border-bottom-right-radius: 5px;
        }
    
        /* è¡¨ç¤ºæ™‚ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .toast-notification.show {
            transform: translateY(0); /* ç”»é¢å†…ã«ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¤ãƒ³ */
        }
    </style>

</article>

<script>
    const CURRENT_PLAYER_ID = localStorage.getItem('arg_player_id') || 'unknown';
    const CURRENT_POST_SLUG = "betsunoblog-trigger-test";
    const ENABLE_COMMENT_TRIGGER = "true" === 'true';

    // ğŸ”‘ ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã§ä½¿ç”¨ã™ã‚‹ã‚­ãƒ¼ã®å®šç¾©
    const FLAG_STATE_KEY = 'arg_flag_state';      // çŠ¶æ…‹: PENDING / COMPLETED
    const COMMENT_CONTENT_KEY = 'arg_comment_content'; // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚³ãƒ¡ãƒ³ãƒˆå†…å®¹
    const TRIGGER_TIME_MS_KEY = 'arg_trigger_time_ms'; // å‡¦ç†å®Œäº†äºˆå®šæ™‚åˆ» (UNIXæ™‚é–“)

    // ---------------------------------------------------
    // ğŸ”‘ ã‚³ãƒ¡ãƒ³ãƒˆãƒ•ã‚©ãƒ¼ãƒ ç”Ÿæˆã¨è¡¨ç¤º
    // ---------------------------------------------------
    
    function renderCommentForm() {
        const formArea = document.getElementById('comment-form-area');
        
        // 1. ãƒˆãƒªã‚¬ãƒ¼ãŒç„¡åŠ¹ãªè¨˜äº‹ã§ã¯ãƒ•ã‚©ãƒ¼ãƒ ã‚’è¡¨ç¤ºã—ãªã„
        if (!ENABLE_COMMENT_TRIGGER) {
            formArea.innerHTML = '<p style="color: #888;">ï¼ˆã“ã®è¨˜éŒ²ã¯ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚‹ãƒ­ãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¸­ã§ã™ã€‚ï¼‰</p>';
            return;
        }

        const currentState = localStorage.getItem(FLAG_STATE_KEY);

        if (currentState === 'COMPLETED') {
            // 2. å®Œäº†å¾Œã®è¡¨ç¤º: æ–°ã—ã„è¨˜äº‹ãŒè¡¨ç¤ºã•ã‚ŒãŸã“ã¨ã‚’ç¤ºå”†
            formArea.innerHTML = '<p style="display: none;" id="timer-status"></p> ';
        } else if (currentState === 'PENDING') {
            // 3. å‡¦ç†ä¸­ã®è¡¨ç¤º: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å®Œå…¨ã«å‰Šé™¤ã—ã€ä½•ã‚‚è¡¨ç¤ºã—ãªã„
            formArea.innerHTML = `
                <p style="display: none;" id="timer-status"></p> 
            `;
            // è£ã§ã‚¿ã‚¤ãƒãƒ¼ç›£è¦–è‡ªä½“ã¯ç¶™ç¶šã•ã›ã‚‹ï¼ˆé‡è¦ï¼‰
            checkTriggerStatus(); 
        } else {
            // 4. åˆæœŸçŠ¶æ…‹: ãƒ•ã‚©ãƒ¼ãƒ ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
            const formHtml = `
                <div style="border: 1px solid #ccc; padding: 15px; margin-bottom: 20px;">
                    <p><strong>[ æŠ•ç¨¿è€…: ${CURRENT_PLAYER_ID} ]</strong></p>
                    <form id="comment-form" onsubmit="handleCommentSubmit(event)">
                        <textarea id="comment-text" name="comment" rows="4" placeholder="è¨˜éŒ²ã‚’æ›¸ãè¾¼ã‚€..." style="width: 98%; padding: 5px; margin-bottom: 10px;"></textarea>
                        <button type="submit" style="padding: 8px 15px;">è¨˜éŒ²ã‚’é€ä¿¡</button>
                        <p id="comment-message" style="color: green; margin-top: 10px; display: none;"></p>
                    </form>
                </div>
            `;
            formArea.innerHTML = formHtml;
        }
    }

    // ---------------------------------------------------
    // ğŸ”‘ ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç† (ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¨˜éŒ²)
    // ---------------------------------------------------
    
    function handleCommentSubmit(event) {
        event.preventDefault(); 
        
        const commentText = document.getElementById('comment-text').value.trim();
        const messageElement = document.getElementById('comment-message');
        
        if (commentText.length === 0) {
            messageElement.textContent = "è¨˜éŒ²å†…å®¹ãŒç©ºã§ã™ã€‚";
            messageElement.style.color = 'red';
            messageElement.style.display = 'block';
            return;
        }

        // 1. å‡¦ç†å®Œäº†æ™‚åˆ»ã‚’è¨­å®š (ç¾åœ¨æ™‚åˆ» + 60ç§’)
        const ONE_MINUTE_MS = 60 * 1000;
        const triggerTime = Date.now() + ONE_MINUTE_MS; 
        
        // 2. Local Storageã«çŠ¶æ…‹ã‚’è¨˜éŒ²
        localStorage.setItem(FLAG_STATE_KEY, 'PENDING');
        localStorage.setItem(COMMENT_CONTENT_KEY, commentText);
        localStorage.setItem(TRIGGER_TIME_MS_KEY, triggerTime.toString());
        showNotification("ã‚³ãƒ¡ãƒ³ãƒˆã‚’é€ä¿¡ã—ã¾ã—ãŸã€‚");
        
        // 3. ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¸ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¨ãƒªãƒ­ãƒ¼ãƒ‰
        messageElement.textContent = "";
        messageElement.style.color = 'green';
        messageElement.style.display = 'block';
        
        // ãƒšãƒ¼ã‚¸ã®è¡¨ç¤ºã‚’æ›´æ–°ã—ã€PENDINGçŠ¶æ…‹ã®ã‚¿ã‚¤ãƒãƒ¼ã‚’è¡¨ç¤ºã•ã›ã‚‹
        setTimeout(() => {
            window.location.href = window.location.href; 
        }, 1500);
    }
    
    // ---------------------------------------------------
    // ğŸ”‘ ã‚¿ã‚¤ãƒãƒ¼ç›£è¦–ãƒ­ã‚¸ãƒƒã‚¯ (å®Œäº†ãƒã‚§ãƒƒã‚¯)
    // ---------------------------------------------------
    
    function checkTriggerStatus() {
        const statusElement = document.getElementById('timer-status');
        const currentState = localStorage.getItem(FLAG_STATE_KEY);
        const triggerTime = parseInt(localStorage.getItem(TRIGGER_TIME_MS_KEY), 10);

        if (currentState !== 'PENDING' || !triggerTime) {
            return;
        }

        console.log("--- Trigger System: PENDING ---");
        
        const updateTimer = () => {
            const now = Date.now();
            const remainingMs = triggerTime - now;

            if (remainingMs <= 0) {
                // å®Œäº†ï¼çŠ¶æ…‹ã‚’COMPLETEDã«æ›´æ–°ã—ã€ãƒªãƒ­ãƒ¼ãƒ‰
                localStorage.setItem(FLAG_STATE_KEY, 'COMPLETED');
                clearInterval(timerInterval);
                console.log("--- Trigger System: COMPLETED. Reloading... ---");
                window.location.reload();
                return;
            }

            // æ®‹ã‚Šæ™‚é–“ã‚’è¨ˆç®—ã—ã¦è¡¨ç¤º
            const remainingSeconds = Math.ceil(remainingMs / 1000);
            console.log(`Remaining time: ${remainingSeconds} seconds.`);
        };

        // 1ç§’ã”ã¨ã«ã‚¿ã‚¤ãƒãƒ¼ã‚’æ›´æ–°
        const timerInterval = setInterval(updateTimer, 10000);
        updateTimer(); // å³åº§ã«å®Ÿè¡Œ
    }


    // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«ãƒ•ã‚©ãƒ¼ãƒ ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
    document.addEventListener('DOMContentLoaded', renderCommentForm);

    // ---------------------------------------------------
    // ğŸ”‘ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å¼•ç”¨å‡¦ç†
    // ---------------------------------------------------

    function quoteCommentContent() {
        // å¼•ç”¨ã—ãŸã„è¦ç´ ã‚’å–å¾—
        const quoteElement = document.getElementById('quoted-comment-content');
        
        // ã‚³ãƒ¡ãƒ³ãƒˆå†…å®¹ã‚’å–å¾—
        const savedComment = localStorage.getItem(COMMENT_CONTENT_KEY);

        if (quoteElement && savedComment) {
            // è¦ç´ ãŒã‚ã‚Œã°ã€localStorageã®ã‚³ãƒ¡ãƒ³ãƒˆã§å†…å®¹ã‚’ç½®ãæ›ãˆã‚‹
            quoteElement.textContent = savedComment;
        }
    }

    // ---------------------------------------------------
    // ğŸ”‘ ã‚³ãƒ¡ãƒ³ãƒˆå±¥æ­´è¡¨ç¤ºå‡¦ç†
    // ---------------------------------------------------

    function renderCommentHistory() {
        const historyContainer = document.getElementById('comment-history-area');
        const savedHistory = localStorage.getItem(COMMENT_CONTENT_KEY);
        
        const currentPostSlug = "betsunoblog-trigger-test"; // Liquidã®å¤‰æ•°ã‚’ä½¿ç”¨
        const triggerPostSlug = "amaneblog-trigger-test"; // ğŸ”‘ ãƒˆãƒªã‚¬ãƒ¼è¨˜äº‹ã®ã‚¹ãƒ©ãƒƒã‚°ã«åˆã‚ã›ã‚‹

        // å±¥æ­´ãŒä¿å­˜ã•ã‚Œã¦ã„ãªã‘ã‚Œã°ä½•ã‚‚ã—ãªã„
        if (!historyContainer || !savedHistory) {
            return;
        }
        // ğŸ”‘ ä¿®æ­£ã®æ ¸: ç¾åœ¨ã®è¨˜äº‹ãŒãƒˆãƒªã‚¬ãƒ¼è¨˜äº‹ã§ãªã„å ´åˆã€å±¥æ­´ã‚’è¡¨ç¤ºã—ãªã„
        if (currentPostSlug !== triggerPostSlug) {
            return;
        }
        
        // å±¥æ­´HTMLã‚’ç”Ÿæˆ
        const historyHtml = `
            <div style="margin-top: 20px; padding: 10px; border-top: 1px solid #ddd;">
                <p style="font-weight: bold; margin-bottom: 5px;">--- è¨˜éŒ²å±¥æ­´ ---</p>
                <div style="border-left: 3px solid #ccc; padding-left: 10px; margin-bottom: 10px;">
                    <p style="margin: 0;"><strong>[${CURRENT_PLAYER_ID}] </strong>${new Date().toLocaleString()}</p>
                    <p style="white-space: pre-wrap; margin: 5px 0 0 0;">${savedHistory}</p>
                </div>
            </div>
        `;
        
        historyContainer.innerHTML = historyHtml;
    }

    // ---------------------------------------------------
    // ğŸ”‘ é€šçŸ¥ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—è¡¨ç¤ºå‡¦ç†
    // ---------------------------------------------------
    function showNotification(message) {
        const container = document.getElementById('notification-container');
        if (!container) return;

        // 1. é€šçŸ¥è¦ç´ ã®ç”Ÿæˆ
        const notification = document.createElement('div');
        notification.className = 'toast-notification';
        notification.textContent = message;

        // 2. ã‚³ãƒ³ãƒ†ãƒŠã«è¿½åŠ 
        container.appendChild(notification);
        
        // 3. ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³: ã‚ãšã‹ã«é…å»¶ã•ã›ã¦ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ ã—ã€ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¤ãƒ³ã•ã›ã‚‹
        setTimeout(() => {
            notification.classList.add('show');
        }, 10); 

        // 4. è‡ªå‹•ã§æ¶ˆå»: 3ç§’å¾Œã«ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¢ã‚¦ãƒˆã—ã€DOMã‹ã‚‰å‰Šé™¤ã™ã‚‹
        setTimeout(() => {
            notification.classList.remove('show'); // ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¢ã‚¦ãƒˆé–‹å§‹
            
            // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†å¾Œï¼ˆ0.5ç§’å¾Œï¼‰ã«è¦ç´ ã‚’DOMã‹ã‚‰å‰Šé™¤
            setTimeout(() => {
                notification.remove(); 
            }, 500); 
            
        }, 3000); // 3ç§’é–“è¡¨ç¤º
    }

    // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«å®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«è¿½åŠ 
    document.addEventListener('DOMContentLoaded', renderCommentForm);
    document.addEventListener('DOMContentLoaded', quoteCommentContent);
    document.addEventListener('DOMContentLoaded', renderCommentHistory); // ğŸ‘ˆ ã“ã®è¡Œã‚’è¿½åŠ 

</script>
    </div>

    <footer>
        <p class="footer-note">
            ã“ã®Webã‚µã‚¤ãƒˆã®å†…å®¹ã¯ãƒ•ã‚£ã‚¯ã‚·ãƒ§ãƒ³ã§ã‚ã‚Šã€<br>
            å®Ÿåœ¨ã®äººç‰©ãƒ»å›£ä½“ã¨ã¯ä¸€åˆ‡é–¢ä¿‚ã‚ã‚Šã¾ã›ã‚“ã€‚
        </p>
        <p class="footer-copyright">&copy; å‡ºé›²ï¼ˆ@pearl_izumoï¼‰</p>
    </footer>

    <script>
        // ğŸ”‘ ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°å®šç¾©: Liquidå¤‰æ•°ã®å®‰å…¨ãªå‚ç…§
        const BASE_URL = ""; 
        const PRIVATE_PATH = BASE_URL + "/private/";
        
        // 2æ®µéšãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å–å¾— (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã§å®‰å…¨åŒ–)
        //const CORRECT_PASSWORD_1 = "AMANE-SECRET-KEY";
        //const CORRECT_PASSWORD_2 = "CLOUD-HIDDEN-WORD";
        const CORRECT_PASSWORD_1 = "1st";
        const CORRECT_PASSWORD_2 = "2nd";


        // 1. ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼IDã®ç”Ÿæˆã¨æ°¸ç¶šåŒ– (ã‚³ãƒ¡ãƒ³ãƒˆãƒˆãƒªã‚¬ãƒ¼ç”¨)
        function getPlayerId() {
            let playerId = localStorage.getItem('arg_player_id');
            if (!playerId) {
                playerId = 'player-' + Math.random().toString(36).substring(2, 9);
                localStorage.setItem('arg_player_id', playerId);
            }
            return playerId;
        }

        getPlayerId(); 


        // 2. æ±ç”¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼ãƒ­ã‚¸ãƒƒã‚¯ (2æ®µéšèªè¨¼)
        function authenticate() {
            // ãƒ•ã‚©ãƒ¼ãƒ ã®HTMLã‚’å®šç¾©
            const formHtml = `
                <div id="auth-overlay" style="
                    position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
                    background: rgba(0, 0, 0, 0.9); z-index: 10000; 
                    display: flex; 
                    justify-content: center; align-items: center; 
                    flex-direction: column; color: white;
                ">
                    <h2>ã€äºŒé‡èªè¨¼ãŒå¿…è¦ã§ã™ã€‘</h2>
                    <p>éå…¬é–‹ã‚¨ãƒªã‚¢ã¸å…¥ã‚‹ãŸã‚ã® **åˆè¨€è‘‰** ã¨ **ç§˜å¯†ã®æ•°å­—** ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</p>
                    <form id="password-form" onsubmit="handleAuthSubmit(event)">
                        <input type="text" id="auth-input-1" placeholder="åˆè¨€è‘‰ (ä¾‹: AMANE-SECRET-KEY)" style="padding: 8px; margin: 5px; width: 250px;">
                        <input type="text" id="auth-input-2" placeholder="ç§˜å¯†ã®æ•°å­— (ä¾‹: CLOUD-HIDDEN-WORD)" style="padding: 8px; margin: 5px; width: 250px;">
                        <button type="submit" style="padding: 8px 15px; margin-top: 10px;">èªè¨¼ã‚’è©¦ã¿ã‚‹</button>
                    </form>
                    <p style="margin-top: 20px;"><a href="${BASE_URL}/" style="color: #ccc;">[ ãƒ–ãƒ­ã‚°å…¥å£ã«æˆ»ã‚‹ ]</a></p>
                    <p id="error-message" style="color: red; margin-top: 10px; display: none;">åˆè¨€è‘‰ã¾ãŸã¯ç§˜å¯†ã®æ•°å­—ãŒé•ã„ã¾ã™ã€‚</p>
                </div>
            `;

            // ãƒ•ã‚©ãƒ¼ãƒ ã‚’ body ã®å…ˆé ­ã«æŒ¿å…¥ (afterbegin)
            document.body.insertAdjacentHTML('afterbegin', formHtml);
            
            // ã‚¨ãƒ©ãƒ¼ã‚’å›é¿ã™ã‚‹ãŸã‚ã€è¦ç´ ãŒå­˜åœ¨ã™ã‚‹å ´åˆã«ã®ã¿ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’è©¦ã¿ã¾ã™
            const input1 = document.getElementById('auth-input-1');
            if (input1) {
                 input1.focus(); 
            }
        }

        // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡æ™‚ã®å‡¦ç†
        function handleAuthSubmit(event) {
            event.preventDefault(); 
            
            const input1 = document.getElementById('auth-input-1').value.trim();
            const input2 = document.getElementById('auth-input-2').value.trim();
            const errorMessage = document.getElementById('error-message');

            if (input1 === CORRECT_PASSWORD_1 && input2 === CORRECT_PASSWORD_2) {
                // èªè¨¼æˆåŠŸ
                localStorage.setItem('isAuthenticated', 'true');
                const overlay = document.getElementById('auth-overlay');
                if (overlay) { overlay.remove(); }
                
                window.location.href = window.location.href; 
            } else {
                // èªè¨¼å¤±æ•—
                errorMessage.style.display = 'block';
                document.getElementById('auth-input-1').value = ''; 
                document.getElementById('auth-input-2').value = ''; 
                document.getElementById('auth-input-1').focus();
            }
        }

        // 3. ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã®å®Ÿè¡Œ
        function checkPrivateAccess() {
            const currentPath = window.location.pathname;
            
            // ğŸ”‘ ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•° PRIVATE_PATH ã‚’ä½¿ç”¨
            const isPrivateArea = currentPath.startsWith(PRIVATE_PATH); 
            const isAuthenticated = localStorage.getItem('isAuthenticated') === 'true';

            // éå…¬é–‹ã‚¨ãƒªã‚¢ã‹ã¤æœªèªè¨¼ã®å ´åˆ
            if (isPrivateArea && !isAuthenticated) {
                
                authenticate(); // ãƒ•ã‚©ãƒ¼ãƒ ã‚’è¡¨ç¤º

                // ä¿®æ­£æ¸ˆã¿: bodyã®æ§‹æˆè¦ç´ ã‚’å€‹åˆ¥ã«éè¡¨ç¤ºã«ã™ã‚‹
                document.body.style.display = 'block'; 
                
                const elementsToHide = ['header', '.container', 'footer'];
                elementsToHide.forEach(selector => {
                    const element = document.querySelector(selector);
                    if (element) {
                        element.style.display = 'none';
                    }
                });
                
            } else {
                // èªè¨¼æ¸ˆã¿ã¾ãŸã¯å…¬é–‹ã‚¨ãƒªã‚¢ã®å ´åˆ
                document.body.style.display = 'block'; 
            }
        }

        // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«å®Ÿè¡Œ
        checkPrivateAccess();

    </script>

</body>
</html>