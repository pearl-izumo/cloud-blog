<div class="posts-list">
    <h1>{{ page.title }}</h1>
    
    {% comment %} ğŸ”‘ ä¿®æ­£ã®æ ¸: ãƒšãƒ¼ã‚¸ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‹ã‚‰ãƒªã‚¹ãƒˆã‚¿ã‚¤ãƒ—ã‚’å–å¾— {% endcomment %}
    {% assign current_list_type = page.list_type %}

    <ul>
        {% for post in site.posts reversed %}
            
            {% assign post_status = post.status %}
            {% assign should_display = false %}

            {% comment %} (1) éš ã—è¨˜äº‹ã¯å¸¸ã«é™¤å¤– {% endcomment %}
            {% if post.exclude_from_list %}
                {% continue %}
            {% endif %}

            {% comment %} ğŸ”‘ åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ {% endcomment %}
            
            {% comment %} A. ç¾åœ¨ã®ãƒªã‚¹ãƒˆãŒã€Œéå…¬é–‹ (private)ã€ã®å ´åˆ {% endcomment %}
            {% if current_list_type == 'private' %}
                {% comment %} éå…¬é–‹ãƒªã‚¹ãƒˆã§ã¯ã€statusãŒ'private'ã®è¨˜äº‹ã®ã¿ã‚’è¡¨ç¤ºã™ã‚‹ï¼ˆå…¬é–‹è¨˜äº‹ã¯è¡¨ç¤ºã—ãªã„ï¼‰ {% endcomment %}
                {% if post_status == 'private' %}
                    {% assign should_display = true %}
                {% endif %}

            {% comment %} B. ç¾åœ¨ã®ãƒªã‚¹ãƒˆãŒã€Œå…¬é–‹ (public)ã€ã¾ãŸã¯æœªå®šç¾©ã®å ´åˆ {% endcomment %}
            {% else %}
                {% comment %} å…¬é–‹ãƒªã‚¹ãƒˆã§ã¯ã€statusãŒ'public'ã®è¨˜äº‹ã®ã¿ã‚’è¡¨ç¤ºã™ã‚‹ {% endcomment %}
                {% if post_status == 'public' %}
                    {% assign should_display = true %}
                {% endif %}
            {% endif %}

            {% if should_display %}
                <li>
                    <a href="{{ site.baseurl }}{{ post.url }}">
                        {{ post.title }}
                    </a>
                    <small>({{ post.date | date: "%Y-%m-%d" }})</small>
                </li>
            {% endif %}
            
        {% endfor %}
    </ul>
    
    {% if page.list_type == 'private' %}
        <p>â€»ã“ã®ãƒªã‚¹ãƒˆã¯èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
    {% endif %}
</div>


