---
layout: default
title: éå…¬é–‹è¨˜äº‹ä¸€è¦§
blog: amaneblog
blog_id: amaneblog
blog_path: amaneblog
list_type: private
---
<h2>
    <a href="{{ site.baseurl}}/amaneblog/" style="color: var(--color-meta)">é›¨ã®ä¸­ã®ã²ã¨ã‚Šã”ã¨</a>
  </h2>

<div id="posts-list-container">
    {% comment %} 
        æ—¢å­˜ã®è¨˜äº‹ãƒªã‚¹ãƒˆã‚’ã“ã“ã«ã‚¤ãƒ³ã‚¯ãƒ«ãƒ¼ãƒ‰ 
        ï¼ˆéš ã—è¨˜äº‹ã¯ãƒ“ãƒ«ãƒ‰ã•ã‚Œã¾ã™ãŒã€è¡¨ç¤ºã•ã‚Œã‚‹ã‹ã©ã†ã‹ã¯JavaScriptã§åˆ¶å¾¡ã—ã¾ã™ï¼‰
    {% endcomment %}
    {% include list_posts.html %}
</div>

<script>
    const CURRENT_BLOG_ID = "{{ page.blog | default: 'amaneblog' }}";
    const CURRENT_LIST_TYPE = "{{ page.list_type }}";
    const TRIGGER_POST_SLUG = "trigger-test";

    // ğŸ”‘ ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚­ãƒ¼ã®å®šç¾©
    const LIST_FLAG_KEY = `trigger_state_${CURRENT_BLOG_ID}_${TRIGGER_POST_SLUG}`; 
    const LIST_CURRENT_STATE = localStorage.getItem(LIST_FLAG_KEY);
    const LIST_BASE_URL = "{{ site.baseurl | default: '' }}"; 
    
    // ğŸ”‘ éš ã—è¨˜äº‹ã®æƒ…å ±ã‚’å®šç¾© (Liquidå¤‰æ•°ã¨ã¯ç•°ãªã‚‹JSå¤‰æ•°ã¨ã—ã¦å®šç¾©)
    const HIDDEN_POST_SLUG = "system-response-log";
    const HIDDEN_POST_URL = LIST_BASE_URL + '/amaneblog/private/latest-post/'
    const HIDDEN_POST_TITLE = "ã‚³ãƒ¡ãƒ³ãƒˆã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™";

    // è¡¨ç¤ºç”¨ã®æ—¥ä»˜ã‚’å‹•çš„ã«è¨­å®š
    const QUOTE_DATE_KEY = `trigger_date_${CURRENT_BLOG_ID}_${TRIGGER_POST_SLUG}`;
    const HIDDEN_POST_DATE = localStorage.getItem(QUOTE_DATE_KEY) || '---';
    //const HIDDEN_POST_DATE = "2025-10-13";
    console.log(HIDDEN_POST_DATE)

    function checkAndDisplayHiddenPost() {
        // ğŸ”‘ ä¿®æ­£ã®æ ¸: çŠ¶æ…‹ãŒ COMPLETED ã®å ´åˆã®ã¿ã€å‡¦ç†ã‚’å®Ÿè¡Œ
        if (LIST_CURRENT_STATE === 'COMPLETED') { 
            
            // æ—¢å­˜ã®ãƒªã‚¹ãƒˆï¼ˆ<ul>ï¼‰è¦ç´ ã‚’è¦‹ã¤ã‘ã‚‹
            // LiquidãŒç”Ÿæˆã—ãŸãƒªã‚¹ãƒˆã®è¦ªè¦ç´ ï¼ˆ.posts-listï¼‰å†…ã® <ul> ã‚¿ã‚°ã‚’æ¢ã™
            let targetList = document.querySelector('.posts-list ul');
            
            if (!targetList) {
                // æŒ¿å…¥å¯¾è±¡ã®ãƒªã‚¹ãƒˆãŒè¦‹ã¤ã‹ã‚‰ãªã‘ã‚Œã°å‡¦ç†ã‚’çµ‚äº†
                console.error("Target list (<ul>) not found for dynamic insertion.");
                return;
            }

            // ğŸ”‘ æŒ¿å…¥ã™ã‚‹HTMLã‚’ã“ã®ãƒ–ãƒ­ãƒƒã‚¯å†…ã§ç”Ÿæˆ
            const hiddenPostHtml = `
                <li class="hidden-post-item">
                    <small style="color: var(--color-meta);">${HIDDEN_POST_DATE}</small>
                    <a href="${HIDDEN_POST_URL}">
                        ${HIDDEN_POST_TITLE}
                        <span class="arg-marker">NEW</span>
                    </a>
                </li>
            `;
            
            // æ—¢å­˜ãƒªã‚¹ãƒˆã®å…ˆé ­ã«æŒ¿å…¥
            targetList.insertAdjacentHTML('afterbegin', hiddenPostHtml);
        }
        // COMPLETED ã§ãªã‘ã‚Œã°ã€ä½•ã‚‚è¡¨ç¤ºã—ãªã„ï¼ˆLiquidã«ã‚ˆã£ã¦å…ƒã€…éš ã•ã‚Œã¦ã„ã‚‹ãŸã‚ï¼‰
    }

    // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«å®Ÿè¡Œ
    document.addEventListener('DOMContentLoaded', checkAndDisplayHiddenPost);
</script>